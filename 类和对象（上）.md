# 类和对象（上）

#### 1. 面向过程和面向对象初步认识
C语言是面向过程的，关注的是**过程**，分析出求解问题的步骤，通过函数调用逐步解决问题。
C++是基于面向对象的，关注的是**对象**，将一件事情拆分成不同的对象，靠对象之间的交互完成。

#### 2.类

* 面向对象有三大特征：封装，继承，多态
  * 封装：
    * 1.数据和方法都放到了一起在类里面
    * 2.访问限定符：public（公有），private（私有），protected（保护）
    * 3.想给你访问的可以定义为public，不想访问的用private。
  * 一般在定义类的时候，最好不要使用默认访问限定符，要明确定义访问限定符
  * 封装是一种更好的严格管理，不封装是一种自由管理

* 在C语言中struct是定义结构体，里面只能用来定义变量，但是在C++中struct被升级成为了类，就是说里面不仅可以定义变量还可以定义函数，也有了新的名字叫做成员变量和成员函数。C++中也兼容了C中struct的用法，类有访问限制符以**struct定义**的类默认是**公共的**也就是**public**，**class定义**的类默认是**私有的**也就是**private**。

```c++
struct Student
{
    //默认是public，因为要兼容C所以默认只能是公共的
    //建议不要使用默认的限制符，要自己添加
};//分号不能少
```

```c++
struct Student
{
public:
 	   void fun()
       {
           //.....
       }
    	void swap(int a,int b)
        {//一般形参跟成员变量的命名形式
         //成员变量一般在正常名字之前（或后）加上_，有的也有在前面加上m的
            _a=a;
            _b=b;
        }
private:
		int _a=1;
    	char _b='d';
};
```

* class 类的定义

  * 不指定访问限定符默认为私有

* 类就相当于是创建了一个新的域，需要用到类的时候需要用到域作用限定符，不然找不到类

  ```c++
  void stack::data()
  {
     //....
  }
  ```

* 对象中存了成员变量，没有存成员函数

  * 成员函数存在公共代码区
  * 计算类的大小时只需要考虑成员变量，不考虑成员函数，但是需要考虑内存对齐，对齐规则和C相同
  * 空类比较特殊，有一个字节不存储有效数字，只是为了占位表示对象存在

* 对象实例化

  * 类本身没有大小，只有被实例化之后才会有大小

#### 3.this指针

* ```c++
  void Init(int year,int month,int day)
  {
      _year=year;
      //_year相当于this->_year
  }
  //相当于
  //void Init(Date* const this,int year,int month,int day);
  ```

  * 调用成员函数时，不能显示传实参给this
  * 定义成员函数时，也不能显示声明形参this
  * 但是在成员函数内部使用this指针
  * this不能被修改

